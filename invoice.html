<!doctype html>
<html>
    <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="css/bootstrapcss.css" rel="stylesheet" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <title>Demo</title>
    <link href="css/select2.css" rel="stylesheet"/>
    <link href="css/service2.css" rel="stylesheet" type="text/css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/select2.js"></script>
    <script>
		function addNewLine(){
			
                var table = $("#invoiceTable")[0];

                var existingRow = table.rows[1];
                var newRow = table.insertRow(2);
                for (var i = 0; i < existingRow.cells.length; i++) {
                    var cell = existingRow.cells[i];
                    var newCell = newRow.insertCell();
                    $(cell).clone().appendTo(newCell);
                    
                }
            
		}
		function populateInvoice(invoice){
			console.log("invoice",invoice);
			
		}
		
		function loadQuoteFromServer(id) {
      console.log("pretending to read quote", id, "from server");
      var quote = {
        person: {
          firstName  : "Johannes",
          lastName  : "Loper",
          idType  : "Drivers License"
        },
        car: {

        },
        invoice: {
          date: new Date(2016,7,6),
          items: [
            {
              partNumber: "X123",
              description: "Front Disk Brakes",
              quantity: 2,
              labourUnits: 1.5,
              labourCost: 150.50
            }, {
              partNumber: "X777",
              description: "Rear Drum Brakes",
              quantity: 2,
              labourUnits: 0.5,
              labourCost: 350.50
            }
          ],
          vat: 297.23,
          discount: 97.23,
          total: 2999.99
        }
      };

      return quote;
    }

        $(document).ready(function () {

            $("#qty").select2();
            $("#partnumber").select2();
            $("#discription").select2();

			var searchString = location.search;
      		if(searchString) {
        		var id = searchString.split("=")[1];
				var quote = loadQuoteFromServer(id);
        		populateInvoice(quote.invoice);
      		}

            console.log("hello");
            $("#addNewLine").on("click", addNewLine);
        });

    </script>
    </head>

    <body>
<ul class="nav nav-pills nav-justified">
      <li class="active"><a href="search.html">Search</a></li>
      <li><a href="invoice.html">Invoice</a></li>
      <li><a href="person.html">Person</a></li>
      <li><a href="car.html">Car</a></li>
    </ul>
<table width="100%" border="1">
      <tbody>
    <tr>
          <td width="93%">&nbsp;</td>
          <td width="7%" height="23"><input type="submit" name="Print" id="Print" value="Print Invoice"></td>
        </tr>
  </tbody>
    </table>
<table width="100%" border="1">
      <tbody>
    <tr>
          <td width="84%">&nbsp;</td>
          <td width="16%"><label for="datetime">Date:</label>
        <input type="datetime" name="datetime" id="datetime"></td>
        </tr>
  </tbody>
    </table>
<table width="100%" border="1" id="invoiceTable">
      <tbody>
    <tr>
          <td width="17%" style="text-align: center">Part Number</td>
          <td width="44%" style="text-align: center">Discription</td>
          <td width="10%" style="text-align: center">Qty</td>
          <td width="15%" style="text-align: center">Unit Price</td>
          <td width="14%" style="text-align: center">Labour Cost</td>
        </tr>
    <tr>
          <td><select name="select2" id="partnumber" style="width: 200px;">
              <option value="1234567890">1234567890</option>
              <option value="1234567890">1234567890</option>
              <option value="1234567890">1234567890</option>
            </select></td>
          <td><select name="description" id="discription" style="width: 530px;">
              <option value="Replace Brakes">Replace Brakes</option>
              <option value="Replace Brake Fluid">Replace Brake Fluid</option>
              <option value="New Battery">New Battery</option>
              <option value="Replace Pistons">Replace Pistons</option>
            </select></td>
          <td><span style="text-align: center">
            <select name="select" id="qty" style="width: 100px;">
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
            </span></td>
          <td><input type="text" name="textfield2"></td>
          <td><input type="text" name="textfield3"></td>
        </tr>
    <tr>
          <td><input name="Add New Line" type="button" id="addNewLine" title="Add New Line" value="+">
        <input name="Delete Current Line" type="button" id="deleteLine" title="Delete Current Line" value="-"></td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
          <td>&nbsp;</td>
        </tr>
  </tbody>
    </table>
<table width="100%" border="1">
      <tbody>
    <tr>
          <td>&nbsp;</td>
          <td>VAT:
        R
        <input type="number" name="number3" id="number3"></td>
        </tr>
    <tr>
          <td>&nbsp;</td>
          <td>Discount: R
        <input type="number" name="number2" id="number2"></td>
        </tr>
    <tr>
          <td width="85%">&nbsp;</td>
          <td width="15%"><label for="number">Total:</label>
        R
        <input type="number" name="number" id="number"></td>
        </tr>
  </tbody>
    </table>
<table width="100%" border="1">
      <tbody>
    <tr>
          <td width="92%">&nbsp;</td>
          <td width="4%"><input name="Close" type="button" id="Close" title="Close" value="Close"></td>
          <td width="4%"><input name="Save" type="button" id="Save" title="Save" value="Save"></td>
        </tr>
  </tbody>
    </table>
</body>
</html>
